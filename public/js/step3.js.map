{"version":3,"sources":["step3.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"step3.js","sourcesContent":["$(document).ready(function () {\n\n    var circlesArray = [];\n    var zoomLevels = {};\n    zoomLevels['1000'] = 14;\n    zoomLevels['3000'] = 12;\n    zoomLevels['5000'] = 11;\n    zoomLevels['8000'] = 11;\n    zoomLevels['13000'] = 10;\n    zoomLevels['20000'] = 9;\n\n    var geo = $('#location').geocomplete({\n        types: ['address'],\n        componentRestrictions: {country: \"ma\"},\n        map: \"#map\",\n        mapOptions: {\n            center: {lat: 33.5, lng: -7.5},\n            zoom: 2\n        },\n        markerOptions: {\n            draggable: true\n        },\n        details: \".location-details\"\n    }).bind(\"geocode:result\", function (event, result) {\n\n        var map = $(\"#location\").geocomplete(\"map\");\n        var marker = $(\"#location\").geocomplete(\"marker\");\n        var radius = parseInt($('#radius').val());\n\n        var circle = new google.maps.Circle({\n            map: map,\n            radius: parseInt($('#radius').val()),\n            fillColor: '#fd875e',\n            fillOpacity: 0.65,\n            strokeWeight: 1\n        });\n\n        map.setZoom(zoomLevels[radius]);\n\n        clearOverlays();\n        circlesArray.push(circle);\n        circle.bindTo('center', marker, 'position');\n    });\n\n    function clearOverlays() {\n        for (var i = 0; i < circlesArray.length; i++) {\n            circlesArray[i].setMap(null);\n        }\n        circlesArray.length = 0;\n    };\n\n    $(\"#can_travel\").change(function () {\n        if ($(\"#can_travel\").prop('checked'))\n            $(\"#map-and-radius\").removeClass('no-visibility');\n        else\n            $(\"#map-and-radius\").addClass('no-visibility');\n    });\n\n    $('#radius').change(function () {\n        geo.trigger('geocode:result');\n    });\n});\n"]}