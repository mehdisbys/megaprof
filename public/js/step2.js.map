{"version":3,"sources":["step2.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"step2.js","sourcesContent":["$(function () {\n\n    var countWords = function (string) {\n        return string\n                .replace(/(^\\s*)|(\\s*$)/gi, \"\")\n                .replace(/\\s+/gi, \" \")\n                .split(' ').length;\n    };\n\n    var updateCount = function (el, expected) {\n        var nb = expected - countWords($(el).val());\n        if (nb > 0) {\n            $(\"#\" + $(el).attr('id') + \"-text\").removeClass('no-display');\n            $(\"#\" + $(el).attr('id') + \"-count\").text(nb);\n\n        }\n        if (nb <= 0) {\n            $(\"#\" + $(el).attr('id') + \"-count\").text('');\n            $(\"#\" + $(el).attr('id') + \"-text\").addClass('no-display');\n        }\n        return nb;\n    };\n\n    var count10 = function (el) {\n        return updateCount(el, 10);\n    };\n\n    $(\".sm-form-control\").on(\"keypress change\", (function () {\n        count10(this);\n    }));\n\n    window.Parsley\n        .addValidator('minimumwords', {\n            requirementType: 'string',\n            validateString: function (value, requirement) {\n                console.log(countWords(value), requirement);\n                return countWords(value) >= requirement;\n            },\n            messages: {\n                en: 'Veuillez entrer au minimum %s mots dans cette section'\n            }\n        });\n\n\n    $('#title_form').parsley()\n        .on('field:validated', function () {\n\n            var ok = $('.parsley-error').length === 0;\n\n            $('.bs-callout-warning').toggleClass('hidden', ok);\n        })\n        .on('form:submit', function () {\n            return true;\n        });\n});"]}